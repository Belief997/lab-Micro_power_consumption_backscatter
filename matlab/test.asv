% clear;
% config;

% 采样率 10 倍
f_source = 2.412 * (10 ^ 4);
fs = f_source * 10;

fx = f_source / 100;

A = 1000;
E = 2 * A;
%采样点数 10s
N = 10 * fs;
n = 0 : N-1;
%时间序列
% global t;
t = n / fs ;

y_1 = A * sin(2 * pi * f_source * t) + E;
% y_2 = A * sin(2 * pi * fx * t) + E;
y_2 = A * square(2 * pi * fx * t, 50) + E;
y_3 = y_1 + y_2;

figure
subplot(3,1,1);
plot(y_3);

subplot(3,1,2)
plot(y_fil);

subplot(3,1,3)
plot(y_fil(1:1000));

[b,a]=sos2tf(SOS,G);
y_fil=filter(b,a, y_3);

figure
subplot(3,1,1);
plot(y_3);

subplot(3,1,2)
plot(y_fil);

% subplot(3,1,3)
% disp(length(t));
% plot(y_fil(1:round(length(y_fil))/2));
% plot(y_fil(1:1000));







